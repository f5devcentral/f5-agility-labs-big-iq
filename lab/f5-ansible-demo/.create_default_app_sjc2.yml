---
- name: Create applications SJC PME Lab F5 Networks
  hosts: all
  connection: local

  tasks:
    - name: site20waf.example.com
      bigiq_application_https_waf:
        provider:
          server: 10.192.75.185
          user: admin
          password: admin
          validate_certs: no
        name: "site20waf.example.com"
        wait: no
        description: Load balance WAF
        service_environment: "bigip2tier1.lab.fp.f5net.com"
        domain_names: "site20.example.com"
        add_analytics: yes
        servers:
          - address: 10.1.20.201
            port: 80
          - address: 10.1.20.202
            port: 80
        inbound_virtual:
          address: 10.1.10.207
          netmask: 255.255.255.255
          port: 443
        redirect_virtual:
          address: 10.1.10.207
          netmask: 255.255.255.255
          port: 80
      delegate_to: localhost

    - name: site22http.example.com
      bigiq_application_http:
        provider:
          server: 10.192.75.185
          user: admin
          password: admin
          validate_certs: no
        name: "site22http.example.com"
        wait: no
        description: Load balance HTTP
        service_environment: "bigip2tier1.lab.fp.f5net.com"
        add_analytics: yes
        servers:
          - address: 10.1.20.202
            port: 8081
        inbound_virtual:
          address: 10.1.10.208
          netmask: 255.255.255.255
          port: 80
      delegate_to: localhost

    - name: site26https.example.com
      bigiq_application_https_offload:
        provider:
          server: 10.192.75.185
          user: admin
          password: admin
          validate_certs: no
        name: "site26https.example.com"
        wait: no
        description: Load balance HTTPS Offload
        service_environment: "bigip2tier1.lab.fp.f5net.com"
        add_analytics: yes
        servers:
          - address: 10.1.20.204
            port: 80
          - address: 10.1.20.205
            port: 80
        inbound_virtual:
          address: 10.1.10.209
          netmask: 255.255.255.255
          port: 443
        redirect_virtual:
          address: 10.1.10.209
          netmask: 255.255.255.255
          port: 80
      delegate_to: localhost

    - name: site28fasthttp.example.com
      bigiq_application_fasthttp:
        provider:
          server: 10.192.75.185
          user: admin
          password: admin
          validate_certs: no
        name: "site28fasthttp.example.com"
        wait: no
        description: Load balance Fast HTTP
        service_environment: "bigip2tier1.lab.fp.f5net.com"
        add_analytics: yes
        servers:
          - address: 10.1.20.206
            port: 80
          - address: 10.1.20.207
            port: 80
        inbound_virtual:
          address: 10.1.10.210
          netmask: 255.255.255.255
          port: 80
      delegate_to: localhost

    - name: site30fastL4tcp.example.com
      bigiq_application_fastl4_tcp:
        provider:
          server: 10.192.75.185
          user: admin
          password: admin
          validate_certs: no
        name: "site30fasL4.example.com"
        wait: no
        description: Load balance Fast L4 TCP
        service_environment: "bigip2tier1.lab.fp.f5net.com"
        servers:
          - address: 10.1.20.206
            port: 8081
          - address: 10.1.20.207
            port: 8081
        inbound_virtual:
          address: 10.1.10.211
          netmask: 255.255.255.255
          port: 80
      delegate_to: localhost

    - name: site32udp.example.com
      bigiq_application_fastl4_udp:
        provider:
          server: 10.192.75.185
          user: admin
          password: admin
          validate_certs: no
        name: "site32udp.example.com"
        wait: no
        description: Load balance Fast UDP
        service_environment: "bigip2tier1.lab.fp.f5net.com"
        servers:
          - address: 10.1.20.206
            port: 8090
          - address: 10.1.20.207
            port: 8090
        inbound_virtual:
          address: 10.1.10.212
          netmask: 255.255.255.255
          port: 53
      delegate_to: localhost